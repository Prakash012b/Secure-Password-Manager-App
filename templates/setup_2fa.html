<!-- START: CODE FINISHED BY Prakash -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set up 2FA</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <h2>Set up Two-Factor Authentication</h2>
    <p>Scan this QR code with your Authenticator app:</p>
    
    <!-- This image displays the QR code generated from your backend (base64 encoded PNG) -->
    <img src="data:image/png;base64,{{ qr_b64 }}" alt="QR Code">
    
     <!-- This is the raw secret key / current code shown for local testing (since your project isnâ€™t live) -->
    <p>Manual code (for first login/testing): <strong>{{ current_code }}</strong></p>
    

    <!-- Form where you manually enter the 6-digit code shown above -->
    <form method="POST" action="{{ url_for('verify_2fa') }}">
        <input type="text" name="code" placeholder="Enter 6-digit code" class="form-control mb-3" required>
        <button type="submit" class="btn btn-primary">Verify</button>
    </form>

    <a href="{{ url_for('login') }}" class="btn btn-link mt-3">Back to Login</a>
</div>

<!-- Bootstrap JS for button and UI functionality -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

<!-- END: CODE FINISHED BY Prakash -->